<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <script src="https://p.trellocdn.com/power-up.min.js"></script>
    <script src="/client.js"></script>
    <script>
      var GRAY_ICON = 'https://cdn.hyperdev.com/us-east-1%3A3d31b21c-01a0-4da2-8827-4bc6e88b7618%2Ficon-gray.svg';
    TrelloPowerUp.initialize({
        'card-buttons': function(t, options){
          return [{
            icon: "https://cdn.glitch.com/1b42d7fe-bda8-4af8-a6c8-eff0cea9e08a%2Frocket-ship.png?1494946700421",
            text: "Hello world",
            callback : function(t){
           // return t.card('id','name').then(card => alert(`Hello from ${card.name} (id: ${card.id}`))
              return t.popup({
                title: "Estimation",
                url: 'estimate.html'
              });
            }
          }];
        },
      'board-buttons': function(t, options){
        return [{
          icon: "https://cdn.glitch.com/1b42d7fe-bda8-4af8-a6c8-eff0cea9e08a%2Frocket-ship.png?1494946700421",
          text: "Hello world",
          callback : function(t){
            return t.board().then(board => alert(`Hello world`))
          }
        }];
      },
      'card-back-section': function(t, options){
        return {
          title: 'My Card Back Section',
          icon: GRAY_ICON, // Must be a gray icon, colored icons not allowed.
          content: {
            type: 'iframe',
            url: t.signUrl('./estimate.html'),
            height: 230, // Max height is 1500.
            action: {
              text: 'My Action',
              callback: (t) => t.popup('hello from card back section'),
            },
          }
        };
      }
      });
      </script>
  </body>
</html>